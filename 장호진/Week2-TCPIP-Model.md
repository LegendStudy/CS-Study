### TCP/IP 4계층 모델?
​
TCP/IP는 인터넷을 사용할 때 기본적으로 적용되는 네트워크 프로토콜 모델이다. 초기에는 OSI 모델의 7계층을 간소화하여 4계층 모델로 표현되었다. 이 4계층 모델은 네트워크 액세스 계층, 인터넷 계층, 전송 계층, 응용 계층으로 구성되어 있다.  
  
시간이 지나면서 인터넷의 발전과 함께 TCP/IP 모델도 계속해서 갱신되어왔다. 이러한 변화의 일환으로, 최근에는 'TCP/IP Updated 모델'이라는 5계층 구조가 등장했다. 이 모델에서는 기존의 링크 계층을 물리 계층과 데이터 링크 계층으로 세분화하였고, '인터넷' 계층의 명칭을 '네트워크'로 변경했다. 현재 이 5계층 모델은 전 세계적으로 표준으로 채택되어 사용되고 있다.
​
![image](https://github.com/LegendStudy/CS-Study/assets/96263955/b7e6a34e-d554-47e3-9bd0-697411b44add)

​
4계층과 5계층의 차이는 TCP/IP 4계층의 링크 계층이 데이터 링크 계층과 물리 계층으로 분리되었고 인터넷 계층이 네트워크 계층으로 다시 변한것이 차이이다.
​
### 애플리케이션 계층
​
애플리케이션 계층은 OSI 7계층 모델의 가장 상위 계층으로, 사용자와 직접적으로 상호 작용하는 네트워크 서비스를 제공한다. 이 계층은 데이터의 생성부터 네트워크를 통한 전송까지 사용자에게 필요한 모든 고수준 프로토콜들을 포함한다. 
​
  
예를 들어, 웹 브라우징, 이메일 전송, 파일 전송과 같은 인터넷 기반 응용 프로그램들은 모두 애플리케이션 계층에서 동작한다. 이 계층에서 사용되는 프로토콜로는 HTTP(웹 서비스), SMTP(이메일 전송), FTP(파일 전송) 등이 있다. 즉, 애플리케이션 계층은 사용자가 네트워크 리소스에 접근하고, 다양한 네트워크 기반 서비스를 이용할 수 있도록 직접적인 인터페이스를 제공하는 계층이다. 
​
### 전송계층
​
전송 계층은 데이터의 신뢰성 있는 전송을 보장하는 중추적인 역할을 한다. 이 계층은 데이터를 세그먼트로 나누고, 각 세그먼트에 포트 번호를 할당하여 올바른 애플리케이션으로 데이터가 전송되도록 관리한다. 또한, 데이터가 손실되거나 오류가 발생했을 때 재전송을 요청하는 등의 오류 제어 기능을 수행한다. 대표적인 전송 계층 프로토콜로는 TCP(Transmission Control Protocol)와 UDP(User Datagram Protocol)가 있다.
​
### 네트워크 계층
​
네트워크 계층의 주요 기능은 데이터 패킷을 송신지부터 수신지까지 올바르게 라우팅하는 것이다. 이 계층은 각 패킷에 송신자와 수신자의 IP 주소를 포함시켜 패킷이 인터넷을 통해 목적지까지 도달할 수 있도록 한다. 라우팅 프로토콜과 IP(Internet Protocol)가 이 계층의 중요한 부분이다.
​
### 데이터 링크 계층
​
데이터 링크 계층은 네트워크에서 물리적으로 인접한 장비 간의 데이터 전송을 담당한다. 이 계층은 패킷을 프레임으로 구성하고, 오류 검사 및 오류 수정 기능을 통해 신뢰성 있는 전송을 지원한다. 또한, 네트워크 트래픽의 흐름 제어도 이루어진다. 이 계층의 대표적인 프로토콜로는 Ethernet이 있다.
​
### 물리계층
​
물리 계층은 데이터의 실제 전기적, 기계적 전송을 담당한다. 이 계층은 데이터를 디지털 비트로 변환하고, 이 비트들을 네트워크를 통해 전송한다. 물리 계층의 역할은 주로 하드웨어 기반으로, 케이블, 스위치, 허브 등의 물리적 장비를 포함한다.
​
### Gmail로 이메일을 보낼 때 각 계층에서 일어나는 일
​
지금까지 간단하게 각 계층의 역할에 대해 정리했는데 Gmail로 이메일을 보낼 때 각 계층에서는 어떤 일이 일어나는 지 확인해보자
​
Gmail을 사용하여 이메일을 보내는 사용자가 '보내기' 버튼을 클릭하면, 이메일 작성 화면에서 입력한 정보는 SMTP (Simple Mail Transfer Protocol)로 전송된다. 이때, 이메일의 내용은 MIME(Multipurpose Internet Mail Extensions) 형식으로 인코딩되어 멀티미디어 콘텐츠가 포함될 수 있다. SMTP 서버는 이 데이터를 받아 처리하며, 연결 지향적인 TCP (Transmission Control Protocol)를 사용해 이메일 데이터를 세그먼트로 분할한다. 각 세그먼트는 안정적인 데이터 전송을 위해 순서와 무결성을 유지하며 전송된다.  
  
전송 계층에서 TCP를 통해 데이터가 세그먼트화된 후, 이 세그먼트들은 IP (Internet Protocol) 패킷으로 캡슐화되어 네트워크 계층으로 이동한다. IP 패킷에는 송신자와 수신자의 IP 주소가 포함되어 있으며, 라우터들은 이 주소를 기반으로 패킷을 목적지까지 전달한다. 이 과정에서 패킷은 독립적으로 목적지를 향해 전송되며, 여러 경로를 통해 이동할 수 있다.  
  
네트워크 계층을 통과한 데이터는 데이터 링크 계층으로 내려가 로컬 네트워크를 통해 전송될 프레임으로 변환된다. 이 계층에서는 각 프레임에 물리적 주소인 MAC 주소가 할당되며, 오류 검사를 통해 프레임의 정확성을 확보한다. 이후 데이터는 물리 계층을 통해 실제 전기 신호로 변환되어 네트워크 케이블이나 무선 매체를 통해 전송된다.  
  
수신자의 시스템에서는 이 과정이 역순으로 진행되어, 물리 계층부터 시작해 최종적으로 애플리케이션 계층에 이르기까지 데이터가 재조합된다. 이메일 클라이언트는 SMTP를 통해 수신된 데이터를 이메일 메시지로 복원하여 사용자에게 표시한다.
